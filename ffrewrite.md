
# Ffmpeg rewriting SCTE-35 packets.
## As of 2.4.55, threefive can parse the packet either way.

<div> I love you msnbc, (please don't get mad at me for using your SCTE-35) </div>

<br>
<br>
<div> Let me preface this by saying this is not a criticism of ffmpeg.<br>
 In my experience, ffmpeg tends to do things the correct way, <br>
 and I have no problem adapting to them.<br>
 
My goal is to keep threefive as flexible and compatible as possible.<br>
</div>

#### This is what I usually get for SCTE-35 packets. 

* four byte header
* \x00
* SCTE-35 Cue
* padding to 188 bytes  

```
 GA\xe3\x11\x00\xfc0@\x00\x00\xd4\xf4Rp\x00\x00\x00\x05\x06\xffH%\xeb\xc8\x00*\x02
(CUEI\xff\xff\xff\xff\x7f\xff\x00\x01I\x8bH\x01\x14msnbc_EP013300403264"\x04\x01\xb5
\xf6\x1d\x83\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
```


`ffmpeg -i msnbc-latest.ts  -map 0 -c copy msnbc-latest-ffmpeg.ts`

#### Now ffmpeg changes that packet to look like this.

* four byte header
* padding to 188 bytes
* PES header
* PES Optional header
* SCTE-35 Cue
```
 GA\x020f@\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff
\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00
\x00\x01\xfc\x00K\x84\x80\x05!\x01\x834g\xfc0@\x00\x00\xd4\xf4Rp\x00\x00\x00\x05\x06
\xffH%\xeb\xc8\x00*\x02(CUEI\xff\xff\xff\xff\x7f\xff\x00\x01I\x8bH\x01\x14msnbc_EP01
3300403264"\x04\x01\xb5\xf6\x1d\x83
```

## As of 2.4.55, threefive can parse the packet either way.

